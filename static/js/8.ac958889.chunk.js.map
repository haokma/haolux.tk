{"version":3,"sources":["components/LoadingButton/index.js","containers/LoginPage/index.js"],"names":["LoadingButton","className","LoginPage","useState","loading","setLoading","dispatch","useDispatch","history","useHistory","validationSchema","yup","shape","email","required","password","min","max","initialValues","onSubmit","values","action","actionLogin","then","toast","success","position","POSITION","TOP_RIGHT","actionGet","actionGetCart","push","catch","err","error","formikProps","type","component","InputField","placeholder","name","src","to"],"mappings":"qIAUeA,IARf,WACE,OACE,qBAAKC,UAAU,iBAAf,SACE,sBAAKA,UAAU,eAAf,UAA8B,wBAAW,wBAAW,wBAAW,+B,6MCwFtDC,UA9EG,WAAO,IAAD,EACQC,oBAAS,GADjB,mBACfC,EADe,KACNC,EADM,KAEhBC,EAAWC,cACXC,EAAUC,cAKVC,EAAmBC,MAAaC,MAAM,CAC1CC,MAAOF,MACJG,SAAS,+BACTD,MAAM,mCACTE,SAAUJ,MACPG,SAAS,kCACTE,IAAI,EAAG,0EACPC,IAAI,GAAI,6DAEb,OACE,cAAC,IAAD,CACEC,cAfkB,CACpBL,MAAO,GACPE,SAAU,IAcRL,iBAAkBA,EAClBS,SAAU,SAACC,GACT,IAAMC,EAASC,YAAYF,GAC3Bf,GAAW,GACXC,EAASe,GACNE,MAAK,WACJC,IAAMC,QAAQ,4CAAwB,CACpCC,SAAUF,IAAMG,SAASC,YAE3B,IAAMC,EAAYC,cAClBxB,EAASuB,GACTxB,GAAW,GACXG,EAAQuB,KAAK,QAEdC,OAAM,SAACC,GACNT,IAAMU,MAAMD,EAAK,CACfP,SAAUF,IAAMG,SAASC,YAE3BvB,GAAW,OApBnB,SAwBG,SAAA8B,GACC,OACE,qBAAKlC,UAAU,QAAf,SACE,eAAC,IAAD,CAAMA,UAAU,aAAhB,UACE,cAAC,IAAD,CACEmC,KAAK,QACLC,UAAWC,IACXC,YAAY,QACZC,KAAK,QACLC,IAAI,uBAEN,cAAC,IAAD,CACEL,KAAK,WACLC,UAAWC,IACXC,YAAY,WACZC,KAAK,WACLC,IAAI,0BAEN,qBAAKxC,UAAU,8CAAf,SAEIG,EAAU,cAAC,IAAD,IAAoB,wBAAQgC,KAAK,SAAb,wCAGlC,qBAAKnC,UAAU,wBAAf,SACE,iFAA8B,cAAC,IAAD,CAAMyC,GAAG,WAAT","file":"static/js/8.ac958889.chunk.js","sourcesContent":["import React from 'react'\nimport './LoadingButton.scss'\nfunction LoadingButton() {\n  return (\n    <div className=\"loading-button\">\n      <div className=\"lds-ellipsis\"><div></div><div></div><div></div><div></div></div>\n    </div>\n  )\n}\n\nexport default LoadingButton\n","import React, { useState } from 'react'\nimport './Login.scss'\nimport { useDispatch } from 'react-redux';\nimport { Link, useHistory } from 'react-router-dom'\n//  Validate\nimport { FastField, Formik, Form } from 'formik';\nimport * as yup from 'yup';\n// Action\nimport { actionLogin } from '../../actions/userAction';\n// Toast\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport InputField from '../../helpers/custom-field/InputField';\nimport LoadingButton from '../../components/LoadingButton';\nimport { actionGetCart } from '../../actions/cartAction';\nconst LoginPage = () => {\n  const [loading, setLoading] = useState(false)\n  const dispatch = useDispatch()\n  const history = useHistory()\n  const initialValues = {\n    email: '',\n    password: ''\n  }\n  const validationSchema = yup.object().shape({\n    email: yup.string()\n      .required('Vui lòng nhập email')\n      .email('Email không hợp lệ'),\n    password: yup.string()\n      .required('Vui lòng nhập password')\n      .min(6, \"Mật khẩu phải chứa ít nhất 6 kí tự\")\n      .max(24, 'Mật khẩu tối thiếu 24 kí tự')\n  })\n  return (\n    <Formik\n      initialValues={initialValues}\n      validationSchema={validationSchema}\n      onSubmit={(values) => {\n        const action = actionLogin(values)\n        setLoading(true)\n        dispatch(action)\n          .then(() => {\n            toast.success(\"Đăng nhập thành công\", {\n              position: toast.POSITION.TOP_RIGHT\n            })\n            const actionGet = actionGetCart()\n            dispatch(actionGet)\n            setLoading(false)\n            history.push('/')\n          })\n          .catch((err) => {\n            toast.error(err, {\n              position: toast.POSITION.TOP_RIGHT\n            })\n            setLoading(false)\n          })\n      }}\n    >\n      {formikProps => {\n        return (\n          <div className=\"login\">\n            <Form className=\"login-form\" >\n              <FastField\n                type='email'\n                component={InputField}\n                placeholder=\"Email\"\n                name='email'\n                src=\"./images/email.png\"\n              />\n              <FastField\n                type='password'\n                component={InputField}\n                placeholder=\"Password\"\n                name='password'\n                src=\"./images/password.png\"\n              />\n              <div className=\"login-form__group login-form__group--button\">\n                {\n                  loading ? <LoadingButton /> : <button type=\"submit\" >Đăng nhập</button>\n                }\n              </div>\n              <div className=\"login-form__recommend\">\n                <span>Bạn chưa có tài khoản ? <Link to=\"/dang-ky\">Đăng ký</Link></span>\n              </div>\n            </Form>\n          </div>\n        )\n      }}\n    </Formik>\n  )\n\n\n}\n\nexport default LoginPage\n\n\n\n\n\n\n\n\n"],"sourceRoot":""}