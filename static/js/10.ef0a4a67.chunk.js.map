{"version":3,"sources":["containers/CartPage/components/CartItem/index.js","containers/CartPage/index.js"],"names":["CartItem","product","dispatch","useDispatch","useState","qty","setQuantity","disable","setDisable","className","src","productImage","img","alt","to","title","sale","size","onClick","action","actionUpdateCart","slug","then","catch","err","toast","error","position","POSITION","TOP_RIGHT","decrease","increase","actionRemoveCart","_id","success","onRemoveCart","ConvertVnd","price","CartPage","cart","useSelector","state","result","cartItems","map","index","totalPrice"],"mappings":"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","file":"static/js/10.ef0a4a67.chunk.js","sourcesContent":["import React, { useState } from 'react'\nimport { useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom'\nimport { actionRemoveCart, actionUpdateCart } from '../../../../actions/cartAction';\nimport ConvertVnd from '../../../../utils/convertVnd';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nfunction CartItem({ product }) {\n  const dispatch = useDispatch()\n  const [quantity, setQuantity] = useState(product.qty)\n  const [disable, setDisable] = useState(false)\n  const increase = () => {\n    setDisable(true)\n    const action = actionUpdateCart(product.qty + 1, product.size, product.slug)\n    dispatch(action)\n      .then(() => {\n        setQuantity(product.qty + 1)\n        setDisable(false)\n      })\n      .catch((err) => {\n        setDisable(false)\n      })\n  }\n  const decrease = () => {\n    if (product.qty > 1) {\n      setDisable(true)\n      const action = actionUpdateCart(product.qty - 1, product.size, product.slug)\n      dispatch(action)\n        .then(() => {\n          setQuantity(product.qty - 1)\n          setDisable(false)\n        })\n        .catch((err) => {\n          setDisable(false)\n        })\n    }\n    else {\n      toast.error(\"Không thể giảm số lượng\", {\n        position: toast.POSITION.TOP_RIGHT\n      })\n    }\n  }\n  const onRemoveCart = () => {\n    const action = actionRemoveCart(product._id)\n    dispatch(action)\n      .then(() => {\n        toast.success(\"Xóa sản phẩm thành công\", {\n          position: toast.POSITION.TOP_RIGHT\n        })\n      })\n  }\n  return (\n    <div className=\"cart-item\">\n      <div className=\"row\">\n        <div className=\"col-xl-3 col-lg-3  col-md-3 col-sm-8 \">\n          <div className=\"cart-item__img\">\n            <img src={product.productImage.img} alt=\"\" />\n          </div>\n        </div>\n        <div className=\"col-xl-9 col-lg-9 col-md-9 col-sm-12\">\n          <div className=\"row\">\n            <div className=\"col-xl-6 col-lg-6\">\n              <Link to=\"/\" className=\"cart-item__name\">\n                {product.title}\n              </Link>\n              <p className=\"cart-item__size\">\n                Sale : {product.sale} %\n              </p>\n              <p className=\"cart-item__size\">\n                Size : {product.size}\n              </p>\n            </div>\n            <div className=\"col-xl-6 col-lg-6 col-sm-6\">\n              <div className={\n                disable ? \"cart-item__quantity disable\" :\n                  \"cart-item__quantity\"\n              }>\n                <button\n                  onClick={() => decrease()}\n                > -\n                </button>\n                <span>{product.qty}</span>\n                <button\n                  onClick={() => increase()}\n                > +\n                </button>\n              </div>\n            </div>\n          </div>\n          <div className=\"row mt-2\">\n            <div className=\"col-xl-6 col-lg-6 col-sm-6\">\n              <div className=\"cart-item__remove\" onClick={() => onRemoveCart()}>\n                <i className=\"fas fa-trash-alt\"></i>\n                <span>Remove</span>\n              </div>\n            </div>\n            <div className=\"col-xl-6 col-lg-6 col-sm-6\">\n              <div className=\"cart-item__price\">\n                <span>{ConvertVnd(product.price)}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default CartItem\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport ConvertVnd from '../../utils/convertVnd'\nimport './CartPage.scss'\nimport CartItem from './components/CartItem'\nconst CartPage = () => {\n  const cart = useSelector(state => state.cart)\n\n  if (!cart || cart.result === 0 || cart.result === null) return (\n    <div className=\"cart\">\n      <div className=\"container\">\n        <h1 className=\"cart__empty\">Không có sản phẩm nào</h1>\n      </div>\n    </div>\n  )\n  return (\n    <div className=\"cart\">\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xl-8 col-lg-8\">\n            <div className=\"cart__content\">\n              <h2 className=\"cart__title\">\n                Cart({cart.result} Items)\n            </h2>\n              <div className=\"cart-list\">\n                {\n                  cart.cartItems ?\n                    cart.cartItems.map((product, index) => {\n                      return (\n                        <CartItem\n                          key={index}\n                          product={product}\n                        />\n                      )\n                    })\n                    : null\n                }\n              </div>\n            </div>\n          </div>\n          <div className=\"col-xl-4 col-lg-4\">\n            <div className=\"cart-total\">\n              <h4 className=\"cart-total__title\">\n                Cộng giỏ hàng\n              </h4>\n              <div className=\"cart-amount\">\n                <span className=\"cart-amount__title\">\n                  Tạm tính\n                </span>\n                <span className=\"cart-amount__price\">\n                  {cart.totalPrice && ConvertVnd(cart.totalPrice)}\n                </span>\n              </div>\n              <div className=\"cart-amount\">\n                <span className=\"cart-amount__title\">\n                  Phí ship\n                </span>\n                <span className=\"cart-amount__price\">\n                  {ConvertVnd(30000)}\n                </span>\n              </div>\n              <div className=\"cart-total__button\">\n                <Link to=\"/thanh-toan\"\n                >\n                  TIẾN HÀNH THANH TOÁN\n                </Link>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default CartPage\n"],"sourceRoot":""}