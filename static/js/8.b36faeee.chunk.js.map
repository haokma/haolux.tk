{"version":3,"sources":["containers/CartPage/components/CartItem/index.js","containers/CartPage/index.js"],"names":["CartItem","product","dispatch","useDispatch","useState","disable","setDisable","className","src","productImage","img","alt","to","title","sale","size","onClick","qty","action","actionUpdateCart","slug","then","catch","err","toast","error","position","POSITION","TOP_RIGHT","decrease","increase","actionRemoveCart","_id","success","onRemoveCart","ConvertVnd","price","CartPage","history","useHistory","cart","useSelector","state","token","JSON","parse","localStorage","getItem","useEffect","push","result","cartItems","map","index","totalPrice"],"mappings":"mNA2GeA,MAjGf,YAAgC,IAAZC,EAAW,EAAXA,QACZC,EAAWC,cADY,EAECC,oBAAS,GAFV,mBAEtBC,EAFsB,KAEbC,EAFa,KA+C7B,OACE,qBAAKC,UAAU,YAAf,SACE,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,wCAAf,SACE,qBAAKA,UAAU,iBAAf,SACE,qBAAKC,IAAKP,EAAQQ,aAAaC,IAAKC,IAAI,SAG5C,sBAAKJ,UAAU,uCAAf,UACE,sBAAKA,UAAU,MAAf,UACE,sBAAKA,UAAU,oBAAf,UACE,cAAC,IAAD,CAAMK,GAAG,IAAIL,UAAU,kBAAvB,SACGN,EAAQY,QAEX,oBAAGN,UAAU,kBAAb,oBAAuCN,EAAQa,KAA/C,QACA,oBAAGP,UAAU,kBAAb,oBAAuCN,EAAQc,WAEjD,qBAAKR,UAAU,6BAAf,SACE,sBACEA,UACEF,EACI,8BACA,sBAJR,UAOE,wBAAQW,QAAS,kBAtDd,WACf,GAAIf,EAAQgB,IAAM,EAAG,CACnBX,GAAW,GACX,IAAMY,EAASC,YACblB,EAAQgB,IAAM,EACdhB,EAAQc,KACRd,EAAQmB,MAEVlB,EAASgB,GACNG,MAAK,WACJf,GAAW,MAEZgB,OAAM,SAACC,GACNjB,GAAW,WAGfkB,IAAMC,MAAM,sDAA2B,CACrCC,SAAUF,IAAMG,SAASC,YAqCMC,IAAvB,gBACA,+BAAO5B,EAAQgB,MACf,wBAAQD,QAAS,kBAvEd,WACfV,GAAW,GACX,IAAMY,EAASC,YACblB,EAAQgB,IAAM,EACdhB,EAAQc,KACRd,EAAQmB,MAEVlB,EAASgB,GACNG,MAAK,WACJf,GAAW,MAEZgB,OAAM,SAACC,GACNjB,GAAW,MA2DoBwB,IAAvB,wBAIN,sBAAKvB,UAAU,WAAf,UACE,qBAAKA,UAAU,6BAAf,SACE,sBAAKA,UAAU,oBAAoBS,QAAS,kBAzCnC,WACnB,IAAME,EAASa,YAAiB9B,EAAQ+B,KACxC9B,EAASgB,GAAQG,MAAK,WACpBG,IAAMS,QAAQ,6CAA2B,CACvCP,SAAUF,IAAMG,SAASC,eAqC+BM,IAAlD,UACE,mBAAG3B,UAAU,qBACb,+CAGJ,qBAAKA,UAAU,6BAAf,SACE,qBAAKA,UAAU,mBAAf,SACE,+BAAO4B,YAAWlC,EAAQmC,yBC/B3BC,UA5DE,WACf,IAAMC,EAAUC,cACVC,EAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMF,QAEpCG,EAAQC,KAAKC,MAAMC,aAAaC,QAAQ,UAQ9C,OANAC,qBAAU,WACHL,GACHL,EAAQW,KAAK,gBAEd,CAACN,IAECH,GAAwB,IAAhBA,EAAKU,QAAgC,OAAhBV,EAAKU,OASrC,qBAAK3C,UAAU,OAAf,SACE,qBAAKA,UAAU,YAAf,SACE,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,oBAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,qBAAIA,UAAU,cAAd,kBAAkCiC,EAAKU,OAAvC,aACA,qBAAK3C,UAAU,YAAf,SACGiC,EAAKW,UACFX,EAAKW,UAAUC,KAAI,SAACnD,EAASoD,GAC3B,OAAO,cAAC,EAAD,CAAsBpD,QAASA,GAAhBoD,MAExB,YAIV,qBAAK9C,UAAU,oBAAf,SACE,sBAAKA,UAAU,aAAf,UACE,oBAAIA,UAAU,oBAAd,wCACA,sBAAKA,UAAU,cAAf,UACE,sBAAMA,UAAU,qBAAhB,8BACA,sBAAMA,UAAU,qBAAhB,SACGiC,EAAKc,YAAcnB,YAAWK,EAAKc,iBAGxC,sBAAK/C,UAAU,cAAf,UACE,sBAAMA,UAAU,qBAAhB,yBACA,sBAAMA,UAAU,qBAAhB,SAAsC4B,YAAW,UAEnD,qBAAK5B,UAAU,qBAAf,SACE,cAAC,IAAD,CAAMK,GAAG,cAAT,2DApCV,qBAAKL,UAAU,OAAf,SACE,qBAAKA,UAAU,YAAf,SACE,oBAAIA,UAAU,cAAd","file":"static/js/8.b36faeee.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport {\n  actionRemoveCart,\n  actionUpdateCart,\n} from \"../../../../actions/cartAction\";\nimport ConvertVnd from \"../../../../utils/convertVnd\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nfunction CartItem({ product }) {\n  const dispatch = useDispatch();\n  const [disable, setDisable] = useState(false);\n  const increase = () => {\n    setDisable(true);\n    const action = actionUpdateCart(\n      product.qty + 1,\n      product.size,\n      product.slug\n    );\n    dispatch(action)\n      .then(() => {\n        setDisable(false);\n      })\n      .catch((err) => {\n        setDisable(false);\n      });\n  };\n  const decrease = () => {\n    if (product.qty > 1) {\n      setDisable(true);\n      const action = actionUpdateCart(\n        product.qty - 1,\n        product.size,\n        product.slug\n      );\n      dispatch(action)\n        .then(() => {\n          setDisable(false);\n        })\n        .catch((err) => {\n          setDisable(false);\n        });\n    } else {\n      toast.error(\"Không thể giảm số lượng\", {\n        position: toast.POSITION.TOP_RIGHT,\n      });\n    }\n  };\n  const onRemoveCart = () => {\n    const action = actionRemoveCart(product._id);\n    dispatch(action).then(() => {\n      toast.success(\"Xóa sản phẩm thành công\", {\n        position: toast.POSITION.TOP_RIGHT,\n      });\n    });\n  };\n  return (\n    <div className=\"cart-item\">\n      <div className=\"row\">\n        <div className=\"col-xl-3 col-lg-3  col-md-3 col-sm-8 \">\n          <div className=\"cart-item__img\">\n            <img src={product.productImage.img} alt=\"\" />\n          </div>\n        </div>\n        <div className=\"col-xl-9 col-lg-9 col-md-9 col-sm-12\">\n          <div className=\"row\">\n            <div className=\"col-xl-6 col-lg-6\">\n              <Link to=\"/\" className=\"cart-item__name\">\n                {product.title}\n              </Link>\n              <p className=\"cart-item__size\">Sale : {product.sale} %</p>\n              <p className=\"cart-item__size\">Size : {product.size}</p>\n            </div>\n            <div className=\"col-xl-6 col-lg-6 col-sm-6\">\n              <div\n                className={\n                  disable\n                    ? \"cart-item__quantity disable\"\n                    : \"cart-item__quantity\"\n                }\n              >\n                <button onClick={() => decrease()}> -</button>\n                <span>{product.qty}</span>\n                <button onClick={() => increase()}> +</button>\n              </div>\n            </div>\n          </div>\n          <div className=\"row mt-2\">\n            <div className=\"col-xl-6 col-lg-6 col-sm-6\">\n              <div className=\"cart-item__remove\" onClick={() => onRemoveCart()}>\n                <i className=\"fas fa-trash-alt\"></i>\n                <span>Remove</span>\n              </div>\n            </div>\n            <div className=\"col-xl-6 col-lg-6 col-sm-6\">\n              <div className=\"cart-item__price\">\n                <span>{ConvertVnd(product.price)}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default CartItem;\n","import React, { useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport ConvertVnd from \"../../utils/convertVnd\";\nimport \"./CartPage.scss\";\nimport CartItem from \"./components/CartItem\";\nconst CartPage = () => {\n  const history = useHistory();\n  const cart = useSelector((state) => state.cart);\n\n  const token = JSON.parse(localStorage.getItem(\"token\"));\n\n  useEffect(() => {\n    if (!token) {\n      history.push(\"/dang-nhap\");\n    }\n  }, [token]);\n\n  if (!cart || cart.result === 0 || cart.result === null)\n    return (\n      <div className=\"cart\">\n        <div className=\"container\">\n          <h1 className=\"cart__empty\">Không có sản phẩm nào</h1>\n        </div>\n      </div>\n    );\n  return (\n    <div className=\"cart\">\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xl-8 col-lg-8\">\n            <div className=\"cart__content\">\n              <h2 className=\"cart__title\">Cart({cart.result} Items)</h2>\n              <div className=\"cart-list\">\n                {cart.cartItems\n                  ? cart.cartItems.map((product, index) => {\n                      return <CartItem key={index} product={product} />;\n                    })\n                  : null}\n              </div>\n            </div>\n          </div>\n          <div className=\"col-xl-4 col-lg-4\">\n            <div className=\"cart-total\">\n              <h4 className=\"cart-total__title\">Cộng giỏ hàng</h4>\n              <div className=\"cart-amount\">\n                <span className=\"cart-amount__title\">Tạm tính</span>\n                <span className=\"cart-amount__price\">\n                  {cart.totalPrice && ConvertVnd(cart.totalPrice)}\n                </span>\n              </div>\n              <div className=\"cart-amount\">\n                <span className=\"cart-amount__title\">Phí ship</span>\n                <span className=\"cart-amount__price\">{ConvertVnd(30000)}</span>\n              </div>\n              <div className=\"cart-total__button\">\n                <Link to=\"/thanh-toan\">TIẾN HÀNH THANH TOÁN</Link>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CartPage;\n"],"sourceRoot":""}