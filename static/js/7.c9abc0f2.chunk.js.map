{"version":3,"sources":["containers/ShopPage/components/Filter/index.js","containers/ShopPage/components/Sidebar/index.js","containers/ShopPage/components/Loading/index.js","containers/ShopPage/index.js"],"names":["Filter","sidebar","setSidebar","setSort","products","className","onChange","e","target","value","length","onClick","Sidebar","handlePrice","type","id","htmlFor","formatLabel","ConvertVnd","step","minValue","maxValue","Loading","ShopPage","useState","loading","setLoading","error","setError","setProducts","currentPage","setCurrentPage","sort","page","setPage","min","max","setValue","slug","useParams","slugRef","useRef","timeRef","getProduct","a","current","limit","limitProductCategory","console","log","url","URL_API","productApi","res","data","totalPage","useEffect","clearTimeout","setTimeout","map","product","index","ProductItem","pageCount","prevLabel","nextLabel","containerClassName","pageClassName","activeClassName","pageLinkClassName","activeLinkClassName","nextLinkClassName","previousLinkClassName","onPageChange","scrollToTop","selectedPage","selected","initialPage"],"mappings":"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","file":"static/js/7.c9abc0f2.chunk.js","sourcesContent":["import React from 'react'\nimport './Filter.scss'\nconst Filter = ({ sidebar, setSidebar, setSort, products }) => {\n  return (\n    <div className=\"filter\">\n      <div className=\"filter-left\">\n        <select\n          className=\"filter-left__select\"\n          onChange={(e) => setSort(e.target.value)}\n        >\n          <option value=\"sort=''\">Sắp xếp theo giá tiền </option>\n          <option value=\"sort=price\">Giá từ thấp đến cao</option>\n          <option value=\"sort=-price\">Giá từ cao đến thấp</option>\n        </select>\n      </div>\n      <div className=\"filter-right\">\n        <div className=\"filter-right__result\">\n          <span>Hiển thị tất cả {products.length} kết quả</span>\n        </div>\n        <div className=\"filter-right__button\" onClick={() => setSidebar(!sidebar)}>\n          <span>Tìm kiếm</span>\n          <i className='bx bx-menu'></i>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Filter\n","import React from 'react'\nimport './Sidebar.scss'\nimport InputRange from \"react-input-range\";\nimport \"react-input-range/lib/css/index.css\";\nimport ConvertVnd from '../../../../utils/convertVnd';\nfunction Sidebar({ sidebar, value, handlePrice }) {\n  return (\n    <div className={sidebar ? \"sidebar active\" : \"sidebar\"}>\n      <div className=\"row\">\n        <div className=\"col-xl-6 col-lg-6 col-md-6\">\n          <div className=\"sidebar-item\">\n            <h2 className=\"sidebar-item__title\">CHẤT LƯỢNG</h2>\n            <ul className=\"sidebar-checkbox\">\n              <li className=\"sidebar-checkbox__item\">\n                <input type=\"checkbox\" id=\"checkbox1\" />\n                <label htmlFor=\"checkbox1\">In stock</label>\n              </li>\n              <li className=\"sidebar-checkbox__item\">\n                <input type=\"checkbox\" id=\"checkbox2\" />\n                <label htmlFor=\"checkbox2\">Out of stock</label>\n              </li>\n            </ul>\n          </div>\n        </div>\n        <div className=\"col-xl-6 col-lg-6 col-md-6\">\n          <div className=\"sidebar-item sidebar-item--price\">\n            <h2 className=\"sidebar-item__title\">GIÁ TIỀN</h2>\n            <div className=\"sidebar-price\">\n              <InputRange\n                formatLabel={value => `${ConvertVnd(value)}`}\n                step={10000}\n                minValue={200000}\n                maxValue={1500000}\n                value={value}\n                onChange={(e) => handlePrice(e)}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Sidebar\n","import React from 'react'\nimport './Loading.scss'\nfunction Loading() {\n  return (\n    <div className=\"loading-product\">\n      <div className=\"lds-grid\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\n    </div>\n  )\n}\n\nexport default Loading\n","import React, { useEffect, useRef, useState } from 'react'\nimport './ShopPage.scss'\nimport Filter from './components/Filter'\nimport Sidebar from './components/Sidebar'\nimport ProductItem from '../../components/ProductItem'\nimport { useParams } from 'react-router-dom'\nimport productApi from '../../api/productApi'\nimport Loading from './components/Loading'\nimport ReactPaginate from 'react-paginate';\nimport scrollToTop from '../../utils/scrollToTop'\nimport { limitProductCategory, URL_API } from '../../constants'\nconst ShopPage = () => {\n  const [sidebar, setSidebar] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState(false)\n  const [products, setProducts] = useState([])\n  const [currentPage, setCurrentPage] = useState(1)\n  const [sort, setSort] = useState('')\n  const [page, setPage] = useState(0)\n  const [value, setValue] = useState({\n    min: 200000,\n    max: 1500000\n  })\n  const params = useParams()\n  const { slug } = params\n  const slugRef = useRef(slug)\n  const timeRef = useRef(null)\n  const onClickPagination = (e) => {\n    scrollToTop()\n    const selectedPage = e.selected;\n    setCurrentPage(selectedPage + 1)\n    setError(false)\n  }\n  async function getProduct() {\n    if (slugRef.current !== slug) {\n      slugRef.current = slug\n      setCurrentPage(1)\n      setError(false)\n      setSidebar(false)\n      setPage(0)\n      setValue({\n        min: 200000,\n        max: 1500000\n      })\n    }\n    if (error) {\n      setCurrentPage(0)\n      setPage(0)\n    }\n    try {\n      setProducts([])\n      setLoading(true)\n      const limit = limitProductCategory\n      console.log(sort);\n      const url = `${URL_API}/products/${slug}?limit=${limit}&page=${currentPage}&minPrice=${value.min}&maxPrice=${value.max}&${sort}`\n      const res = await productApi.getProduct(url)\n      const { products, totalPage } = res.data\n      if (!products.length) {\n        setPage(0)\n        setError(true)\n      }\n      else {\n        setProducts(products)\n        setPage(totalPage)\n        setError(false)\n      }\n      setLoading(false)\n    }\n    catch (err) {\n      setLoading(false)\n      setError(true)\n    }\n  }\n  useEffect(() => {\n    getProduct()\n  }, [slug, currentPage, sort])\n  const handlePrice = (e) => {\n    const { min, max } = e\n    if (timeRef.current) {\n      clearTimeout(timeRef.current)\n    }\n    timeRef.current = setTimeout(() => {\n      getProduct()\n    }, 500)\n    setValue({\n      min, max\n    })\n  }\n  return (\n    <div className=\"shop\">\n      <div className=\"container\">\n        <div className=\"shop__heading\">\n          <Filter\n            sidebar={sidebar}\n            setSidebar={setSidebar}\n            setSort={setSort}\n            products={products}\n          />\n          <Sidebar\n            sidebar={sidebar}\n            handlePrice={handlePrice}\n            value={value}\n          />\n        </div>\n        {\n          loading && <Loading />\n        }\n        {\n          error ?\n            <div className=\"err\">\n              <h1>Không có sản phẩm nào</h1>\n            </div>\n            : null\n        }\n        {\n          products.length ? <div className=\"shop__content\">\n            <div className=\"row\">\n              {\n                products.map((product, index) => {\n                  return (\n                    <div\n                      className=\"col-xl-3 col-lg-3 col-md-4 col-sm-6\"\n                      key={index}\n                    >\n                      <ProductItem\n                        product={product}\n                      />\n                    </div>\n                  )\n                })\n              }\n            </div>\n          </div>\n            : null\n        }\n        {page > 1 &&\n          <ReactPaginate\n            pageCount={page}\n            prevLabel={\"Prev\"}\n            nextLabel={\"Next\"}\n            containerClassName={\"pagination\"}\n            pageClassName={\"pagination-item\"}\n            activeClassName={\"pagination-item--active\"}\n            pageLinkClassName={\"pagination-link\"}\n            activeLinkClassName={\"pagination-link--active\"}\n            nextLinkClassName={\"pagination-next\"}\n            previousLinkClassName={\"pagination-prev\"}\n            onPageChange={onClickPagination}\n            initialPage={0}\n          />\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default ShopPage\n"],"sourceRoot":""}